"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var Core=_interopDefault(require("@antv/f2/lib/core"));require("@antv/f2/lib/scale/time-cat"),require("@antv/f2/lib/geom/line");var Legend$1=_interopDefault(require("@antv/f2/lib/plugin/legend")),Tooltip$1=_interopDefault(require("@antv/f2/lib/plugin/tooltip"));require("@antv/f2/lib/geom/area"),require("@antv/f2/lib/geom/interval"),require("@antv/f2/lib/geom/path"),require("@antv/f2/lib/geom/point"),require("@antv/f2/lib/geom/polygon"),require("@antv/f2/lib/geom/schema");var Guide$1=_interopDefault(require("@antv/f2/lib/plugin/guide"));require("@antv/f2/lib/component/guide/arc"),require("@antv/f2/lib/component/guide/html"),require("@antv/f2/lib/component/guide/line"),require("@antv/f2/lib/component/guide/point"),require("@antv/f2/lib/component/guide/rect"),require("@antv/f2/lib/component/guide/region-filter"),require("@antv/f2/lib/component/guide/tag"),require("@antv/f2/lib/component/guide/text");var Chart=Core.Chart,Chart$1={name:"FChart",props:{data:{type:[Object,Array],require:!0},width:{type:Number,default:500},height:{type:Number,default:300},padding:{type:[Array,Number,String],default:"auto"},appendPadding:{type:Number,default:15},animate:{type:Boolean,default:!1},syncY:{type:Boolean,default:!1},defs:{type:Object,default:function(){return{}}}},watch:{data:function(t){this.chart.changeData(t)}},data:function(){return{components:[],plugins:[]}},provide:function(){return{components:this.components,plugins:this.plugins}},render:function(t){return t("canvas",{ref:"canvas"},this.$slots.default)},mounted:function(){var t=this;this.chart=new Chart({el:this.$refs.canvas,width:this.width,height:this.height,padding:this.padding,appendPadding:this.appendPadding,animate:this.animate,pixelRatio:window.devicePixelRatio,plugins:this.plugins}),this.chart.source(this.data,this.defs),this.chart.coord("rect"),this.components.forEach(function(e){return e(t.chart)}),this.chart.render()},methods:{get:function(t){return this.chart.get(t)},clearGuide:function(){this.chart.guide().clear()}}},Base={inject:["components","plugins"],render:function(t){return t(null)}};function optionsValidator(t){return"[Object object]"!==Object.prototype.toString.call(t)||(!("[Object object]"!==Object.prototype.toString.call(t.value)||!t.value.field||"string"!=typeof t.value.field||!t.value.value||2!==Object.keys(t.value).length)||(console.warn("Geometry 的参数如果是 Object 类型，必须带有 field 和 value 字段"),!1))}var GeometryBase={mixins:[Base],props:{position:{type:[String,Array],require:!0},color:{type:[String,Object],validator:optionsValidator},shape:{type:[String,Object],validator:optionsValidator},size:{type:[String,Object],validator:optionsValidator},styles:{type:Object},adjust:{type:[String,Array,Object]},animate:{type:[Boolean,Object]},generatePoints:{type:Boolean,default:!0},sortable:{type:Boolean,default:!1},startOnZero:{type:Boolean,default:!0},connectNulls:{type:Boolean,default:!1}},methods:{init:function(t){t.position(this.position),[{label:"color",value:this.color},{label:"shape",value:this.shape},{label:"size",value:this.size},{label:"style",value:this.styles},{label:"adjust",value:this.adjust},{label:"animate",value:this.animate}].forEach(function(e){e.value&&("[Object object]"===Object.prototype.toString.call(e.value)&&e.value.field&&"string"==typeof e.value.field&&e.value.value&&2===Object.keys(e.value).length?t[e.label](e.value.field,e.value.value):t[e.label](e.value))})}}},Line={name:"FLine",mixins:[GeometryBase],props:{generatePoints:{type:Boolean,default:!1},sortable:{type:Boolean,default:!0}},created:function(){var t=this;this.components.push(function(e){t.init(e.line({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Axis={name:"FAxis",mixins:[Base],props:{name:{type:String,require:!0},line:{type:Object,default:function(){return{}}},label:{type:[Object,Function],default:function(){return{}}},grid:{type:[Object,Function],default:function(){return{}}},tickLine:{type:Object,default:function(){return{}}},position:{type:String,default:"bottom"}},created:function(){var t=this;this.components.push(function(e){e.axis(t.name,{line:t.line,grid:t.grid,tickLine:t.tickLine,label:t.label,position:t.position})})}},Legend={name:"FLegend",mixins:[Base],props:{name:{type:String,require:!0},position:{type:String,default:"top"},align:{type:String,default:"left"},verticalAlign:{type:String,default:"middle"},itemWidth:{type:[String,Number],default:"auto"},showTitle:{type:Boolean,default:!1},titleStyle:{type:Object,default:function(){return{textAlign:"center",fill:"#404040",fontSize:12,fontWeight:"bold",textBaseline:"middle"}}},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},titleGap:{type:Number,default:12},itemGap:{type:Number,default:12},itemMarginBottom:{type:Number,default:12},wordSpace:{type:Number,default:6},unCheckStyle:{type:Object,default:function(){return{fill:"#bfbfbf"}}},itemFormatter:{type:Function,default:function(t){return t}},marker:{type:[String,Object,Function],default:"circle"},valueStyle:{type:Object,default:function(){return{textAlign:"center",fill:"#404040",fontSize:"12",fontWeight:"bold",textBaseline:"top",width:20,height:20}}},nameStyle:{type:Object,default:function(){return{textAlign:"center",fill:"#404040",fontSize:"12",fontWeight:"bold",textBaseline:"top",width:20,height:20}}},joinString:{type:String,default:":"},triggerOn:{type:String,default:"click"},selectedMode:{type:String,default:"multiple",validator:function(t){return["multiple","single"].includes(t)}},clickable:{type:Boolean,default:!0},onClick:{type:Function,default:function(t){}},custom:{type:Boolean,default:!1}},created:function(){var t=this;this.plugins.push(Legend$1),this.components.push(function(e){e.legend(t.name,{position:t.position,align:t.align,verticalAlign:t.verticalAlign,itemWidth:t.itemWidth,showTitle:t.showTitle,titleStyle:t.titleStyle,offsetX:t.offsetX,offsetY:t.offsetY,titleGap:t.titleGap,itemGap:t.itemGap,itemMarginBottom:t.itemMarginBottom,wordSpace:t.wordSpace,unCheckStyle:t.unCheckStyle,itemFormatter:t.itemFormatter,marker:t.marker,valueStyle:t.valueStyle,nameStyle:t.nameStyle,joinString:t.joinString,triggerOn:t.triggerOn,selectedMode:t.selectedMode,clickable:t.clickable,onClick:t.onClick,custom:t.custom})})}},Tooltip={naem:"FTooltip",mixins:[Base],props:{alwaysShow:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},triggerOn:{type:[Array,String],default:function(){return["touchstart","touchmove"]}},triggerOff:{type:[Array,String],default:"touchend"},showTitle:{type:Boolean,default:!1},showCrosshairs:{type:Boolean,default:!1},crosshairsStyle:{type:Object,default:function(){return{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:2}}},showTooltipMarker:{type:Boolean,default:!0},tooltipMarkerStyle:{type:Object,default:function(){return{fill:"#fff"}}},background:{type:Object,default:function(){return{radius:2,fill:"#1890FF",padding:[6,10]}}},titleStyle:{type:Object,default:function(){return{fontSize:24,fill:"#fff",textAlign:"start",textBaseline:"top"}}},nameStyle:{type:Object,default:function(){return{fontSize:24,fill:"#fff",textAlign:"start",textBaseline:"middle"}}},valueStyle:{type:Object,default:function(){return{fontSize:24,fill:"#fff",textAlign:"start",textBaseline:"middle"}}},showItemMarker:{type:Boolean,default:!0},itemMarkerStyle:{type:Object,default:function(){return{radius:7,symbol:"circle",lineWidth:2,stroke:"#fff"}}},crosshairsType:{type:String,default:"y",validator:function(t){return["x","y","xy"].includes(t)}},showXTip:{type:Boolean,default:!1},showYTip:{type:Boolean,default:!1},xTip:{type:[Object,Function],default:function(t){return t}},yTip:{type:[Object,Function],default:function(t){return t}},xTipBackground:{type:Object,default:function(){return{}}},yTipBackground:{type:Object,default:function(){return{}}},snap:{type:Boolean,default:!0}},created:function(){var t=this;this.plugins.push(Tooltip$1),this.components.push(function(e){e.tooltip({alwaysShow:t.alwaysShow,offsetX:t.offsetX,offsetY:t.offsetY,triggerOn:t.triggerOn,triggerOff:t.triggerOff,showTitle:t.showTitle,showCrosshairs:t.showCrosshairs,crosshairsStyle:t.crosshairsStyle,showTooltipMarker:t.showTooltipMarker,tooltipMarkerStyle:t.tooltipMarkerStyle,background:t.background,titleStyle:t.titleStyle,nameStyle:t.nameStyle,valueStyle:t.valueStyle,showItemMarker:t.showItemMarker,itemMarkerStyle:t.itemMarkerStyle,crosshairsType:t.crosshairsType,showXTip:t.showXTip,showYTip:t.showYTip,xTip:t.xTip,yTip:t.yTip,xTipBackground:t.xTipBackground,yTipBackground:t.yTipBackground,snap:t.snap,onShow:function(e){return t.$emit("onShow",e)},onHide:function(e){return t.$emit("onHide",e)},onChange:function(e){return t.$emit("onChange",e)}})})}},Area={name:"FArea",mixins:[GeometryBase],props:{sortable:{type:Boolean,default:!0}},created:function(){var t=this;this.components.push(function(e){t.init(e.area({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Interval={name:"FInterval",mixins:[GeometryBase],created:function(){var t=this;this.components.push(function(e){t.init(e.interval({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Path={name:"FPath",mixins:[GeometryBase],props:{generatePoints:{type:Boolean,default:!1}},created:function(){var t=this;this.components.push(function(e){t.init(e.path({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Point={name:"FPoint",mixins:[GeometryBase],created:function(){var t=this;this.components.push(function(e){t.init(e.point({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Polygon={name:"FPolygon",mixins:[GeometryBase],created:function(){var t=this;this.components.push(function(e){t.init(e.polygon({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},Schema={name:"FSchema",mixins:[GeometryBase],created:function(){var t=this;this.components.push(function(e){t.init(e.schema({generatePoints:t.generatePoints,sortable:t.sortable,startOnZero:t.startOnZero,connectNulls:t.connectNulls}))})}},lock=!1;function addPlugin(t){lock||(t.push(Guide$1),lock=!0)}var Guide={mixins:[Base],methods:{repaint:function(){this.guide.repaint()}}},Arc={name:"FGuideArc",mixins:[Guide],props:{top:{type:Boolean,default:!0},start:{type:[Array,Function],require:!0},end:{type:[Array,Function],require:!0},style:{type:Object,default:function(){return{stroke:"#999",lineDash:[0,2,2],lineWidth:3}}},limitInPlot:{type:Boolean,default:!1}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,start:t.start,end:t.end,style:t.style,limitInPlot:t.limitInPlot})})}},Html={name:"FGuideLHtml",mixins:[Guide],props:{position:{type:[Array,Function],require:!0},alignX:{type:String,default:"center",validator:function(t){return["left","center","right"].includes(t)}},alignY:{type:String,default:"middle",validator:function(t){return["top","middle","bottom"].includes(t)}},limitInPlot:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},html:{type:String,require:!0}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({position:t.position,staalignXrt:t.alignX,offsetY:t.offsetY,offsetX:t.offsetX,limitInPlot:t.limitInPlot,html:t.html})})}},Line$1={name:"FGuideLine",mixins:[Guide],props:{top:{type:Boolean,default:!0},start:{type:[Array,Function],require:!0},end:{type:[Array,Function],require:!0},style:{type:Object,default:function(){return{stroke:"#999",lineDash:[0,2,2],lineWidth:3}}},limitInPlot:{type:Boolean,default:!1}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,start:t.start,end:t.end,style:t.style,limitInPlot:t.limitInPlot})})}},Point$1={name:"FGuidePoint",mixins:[Guide],props:{top:{type:Boolean,default:!0},position:{type:[Array,Function],require:!0},style:{type:Object,default:function(){return{fill:"#666",fontSize:"12",fontWeight:"bold",rotate:Math.PI/4}}},limitInPlot:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,position:t.position,offsetX:t.offsetX,offsetY:t.offsetY,style:t.style,limitInPlot:t.limitInPlot})})}},Rect={name:"FGuideRect",mixins:[Guide],props:{top:{type:Boolean,default:!0},start:{type:[Array,Function],require:!0},end:{type:[Array,Function],require:!0},style:{type:Object,default:function(){return{stroke:"#999",lineDash:[0,2,2],lineWidth:3}}},limitInPlot:{type:Boolean,default:!1}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,start:t.start,end:t.end,style:t.style,limitInPlot:t.limitInPlot})})}},RegionFilter={name:"FGuideRegionFilter",mixins:[Guide],props:{top:{type:Boolean,default:!0},start:{type:[Array,Function],require:!0},end:{type:[Array,Function],require:!0},color:{type:String,default:"#fff"},limitInPlot:{type:Boolean,default:!1}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,start:t.start,end:t.end,color:t.color,limitInPlot:t.limitInPlot})})}},Tag={name:"FGuideTag",mixins:[Guide],props:{top:{type:Boolean,default:!0},position:{type:[Array,Function],require:!0},content:{type:String,require:!0},direct:{type:String,default:"tl"},autoAdjust:{type:Boolean,default:!0},side:{type:Number,default:4},textStyle:{type:Object,default:function(){return{fontSize:12,fill:"#fff"}}},background:{type:Object,default:function(){return{padding:[4,6],radius:2,fill:"#1890FF"}}},pointStyle:{type:Object,default:function(){return{fill:"#1890FF",r:3,lineWidth:1,stroke:"#fff"}}},withPoint:{type:Boolean,default:!0},limitInPlot:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,position:t.position,content:t.content,direct:t.direct,autoAdjust:t.autoAdjust,side:t.side,textStyle:t.textStyle,background:t.background,pointStyle:t.pointStyle,withPoint:t.withPoint,offsetX:t.offsetX,offsetY:t.offsetY,limitInPlot:t.limitInPlot})})}},Text={name:"FGuideText",mixins:[Guide],props:{top:{type:Boolean,default:!0},position:{type:[Array,Function],require:!0},content:{type:String,require:!0},style:{type:Object,default:function(){return{fill:"#666",fontSize:"12",fontWeight:"bold",rotate:Math.PI/4}}},limitInPlot:{type:Boolean,default:!1},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0}},created:function(){var t=this;addPlugin(this.plugins),this.components.push(function(e){t.guide=e.guide().line({top:t.top,position:t.position,content:t.content,style:t.style,limitInPlot:t.limitInPlot,offsetX:t.offsetX,offsetY:t.offsetY})})}},version="1.0.0";exports.Area=Area,exports.Axis=Axis,exports.Chart=Chart$1,exports.GuideArc=Arc,exports.GuideHtml=Html,exports.GuideLine=Line$1,exports.GuidePoint=Point$1,exports.GuideRect=Rect,exports.GuideRegionFilter=RegionFilter,exports.GuideTag=Tag,exports.GuideText=Text,exports.Interval=Interval,exports.Legend=Legend,exports.Line=Line,exports.Path=Path,exports.Point=Point,exports.Polygon=Polygon,exports.Schema=Schema,exports.Tooltip=Tooltip,exports.version=version;
